#!/usr/bin/env bash
# Author Daniel Neemann

exists () {
    type "$1" &> /dev/null ;
}

echo "$1" > /tmp/notify &&

ps cax | grep sicht > /dev/null
if [ $? -eq 0 ]; then
	osascript -e 'tell application "'$(ps ax | grep sicht | awk '{print $5}' | head -1 | cut -d/ -f3 | cut -d. -f1)'" to refresh widget id "Xanthia-notify-coffee"'
elif exists /usr/local/bin/terminal-notifier 
then
	terminal-notifier -message "$(cat /tmp/notify)"
else
	exit
fi
